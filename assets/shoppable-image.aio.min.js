/*
Generated time: March 25, 2025 10:34
This file was created by the app developer. Feel free to contact the original developer with any questions. It was minified (compressed) by AVADA. AVADA do NOT own this script.
*/
if(!customElements.get("shoppable-image")){class a extends HTMLElement{constructor(){super(),this.addEventListener("click",this.handleClick.bind(this))}handleClick(t){var e;t.target.matches(".hotspot__btn")&&((e=t.target.parentNode)===this.activeHotspot?this.closeActiveHotspot(t):(this.activeHotspot&&this.closeActiveHotspot(t),this.activateHotspot(e)))}handleClickOutside(t){t.target.matches(".hotspot__btn")||t.target.matches(".hotspot__card")||this.activeHotspot&&this.closeActiveHotspot(t)}handleKeyup(t){"Escape"===t.key&&this.activeHotspot&&this.closeActiveHotspot(t)}handleTransitionEnd(t){this.activeHotspot||"opacity"!==t.propertyName||(this.classList.add("overflow-hidden"),this.activeCard.style=null,this.activeCard=null,this.removeEventListener("transitionend",this.transitionHandler))}activateHotspot(t){this.activeCard=t.querySelector(".hotspot__card"),this.checkCardPosition(),this.classList.remove("overflow-hidden"),this.setHotspotActiveState(t,!0),trapFocus(t),document.addEventListener("click",this.handleClickOutside.bind(this)),document.addEventListener("keyup",this.handleKeyup.bind(this)),window.addEventListener("resize",this.closeActiveHotspot.bind(this))}closeActiveHotspot(t){"resize"!==t.type&&(this.transitionHandler=this.transitionHandler||this.handleTransitionEnd.bind(this),this.addEventListener("transitionend",this.transitionHandler)),this.setHotspotActiveState(this.activeHotspot,!1),removeTrapFocus(),"resize"===t.type&&(this.classList.add("overflow-hidden"),this.activeCard.style=null,this.activeCard=null),document.removeEventListener("click",this.handleClickOutside.bind(this)),document.removeEventListener("keyup",this.handleKeyup.bind(this)),window.removeEventListener("resize",this.closeActiveHotspot.bind(this))}checkCardPosition(){var t=this.activeCard.getBoundingClientRect(),e=this.getBoundingClientRect();t.bottom>document.documentElement.clientHeight&&(this.activeCard.style.top="auto",this.activeCard.style.bottom="calc(100% + 12px)"),t.right>e.right?this.activeCard.style.left=`calc(50% - ${t.right-e.width-4}px)`:t.left<e.left&&(this.activeCard.style.left=`calc(50% - ${t.left-28}px)`)}setHotspotActiveState(t,e){t.classList.toggle("is-active",e),t.querySelector(".hotspot__btn").setAttribute("aria-expanded",e),t.querySelector(".hotspot__card").setAttribute("aria-hidden",!e),this.activeHotspot=e?t:null}}customElements.define("shoppable-image",a)}