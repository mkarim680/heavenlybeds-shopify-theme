/*
Generated time: March 25, 2025 10:34
This file was created by the app developer. Feel free to contact the original developer with any questions. It was minified (compressed) by AVADA. AVADA do NOT own this script.
*/
function debounce(i,e=300){let s;return(...t)=>{clearTimeout(s),s=setTimeout(()=>i.apply(this,t),e)}}class CarouselSlider extends HTMLElement{constructor(){super(),this.slides=this.querySelectorAll(".slider__item"),this.slides.length<2||window.initLazyScript(this,this.init.bind(this))}init(){this.slider=this.querySelector(".slider"),this.grid=this.querySelector(".slider__grid"),this.nav=this.querySelector(".slider-nav"),this.rtl="rtl"===document.dir,this.nav&&(this.prevBtn=this.querySelector('button[name="prev"]'),this.nextBtn=this.querySelector('button[name="next"]')),this.initSlider(),window.addEventListener("on:breakpoint-change",this.handleBreakpointChange.bind(this))}initSlider(){this.gridWidth=this.grid.clientWidth,this.slideSpan=this.getWindowOffset(this.slides[1])-this.getWindowOffset(this.slides[0]),this.slideGap=this.slideSpan-this.slides[0].clientWidth,this.slidesPerPage=Math.round((this.gridWidth+this.slideGap)/this.slideSpan),this.slidesToScroll="page"===theme.settings.sliderItemsPerNav?this.slidesPerPage:1,this.totalPages=this.slides.length-this.slidesPerPage+1,this.setCarouselState(1<this.totalPages),this.totalPages<2||!this.nav||(this.sliderStart=this.getWindowOffset(this.slider),this.sliderStart||(this.sliderStart=(this.slider.clientWidth-this.gridWidth)/2),this.sliderEnd=this.sliderStart+this.gridWidth,this.addListeners(),this.setButtonStates())}addListeners(){this.scrollHandler=debounce(this.handleScroll.bind(this)),this.navClickHandler=this.handleNavClick.bind(this),this.slider.addEventListener("scroll",this.scrollHandler),this.nav.addEventListener("click",this.navClickHandler)}removeListeners(){this.slider.removeEventListener("scroll",this.scrollHandler),this.nav.removeEventListener("click",this.navClickHandler)}handleScroll(){this.currentIndex=Math.round(this.slider.scrollLeft/this.slideSpan),this.setButtonStates()}handleNavClick(t){t.target.matches(".slider-nav__btn")&&("next"===t.target.name&&!this.rtl||"prev"===t.target.name&&this.rtl?this.scrollPos=this.slider.scrollLeft+this.slidesToScroll*this.slideSpan:this.scrollPos=this.slider.scrollLeft-this.slidesToScroll*this.slideSpan,this.slider.scrollTo({left:this.scrollPos,behavior:"smooth"}))}handleBreakpointChange(){this.nav&&this.removeListeners(),this.initSlider()}getWindowOffset(t){return this.rtl?window.innerWidth-t.getBoundingClientRect().right:t.getBoundingClientRect().left}getSlideVisibility(t){var t=this.getWindowOffset(t),i=Math.floor(t+this.slides[0].clientWidth);return t>=this.sliderStart&&i<=this.sliderEnd}setCarouselState(t){t?(this.removeAttribute("inactive"),this.gridWidth!==this.grid.clientWidth&&this.handleBreakpointChange()):this.setAttribute("inactive","")}setButtonStates(){this.prevBtn.disabled=this.getSlideVisibility(this.slides[0])&&0===this.slider.scrollLeft,this.nextBtn.disabled=this.getSlideVisibility(this.slides[this.slides.length-1])}}customElements.define("carousel-slider",CarouselSlider);