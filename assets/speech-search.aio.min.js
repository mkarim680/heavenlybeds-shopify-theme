/*
Generated time: September 29, 2025 15:04
This file was created by the app developer. Feel free to contact the original developer with any questions. It was minified (compressed) by AVADA. AVADA do NOT own this script.
*/
function debounce(t,i=300){let s;return(...e)=>{clearTimeout(s),s=setTimeout(()=>t.apply(this,e),i)}}if(!customElements.get("speech-search-button")){class e extends HTMLElement{constructor(){super(),this.recognition=null,this.isListening=!1,this.form=null,this.searchInput=null,this.predictiveSearch=this.closest("predictive-search");var e=window.navigator.userAgent.toLowerCase();"webkitSpeechRecognition"in window&&-1<e.indexOf("chrome")&&window.chrome&&-1===e.indexOf("edg/")?(this.init(),this.bindEvents()):this.predictiveSearch&&this.predictiveSearch.classList.add("speech-search--failed")}bindEvents(){this.recognition.addEventListener("result",debounce(e=>{e.results&&(e=e.results[0][0].transcript,this.searchInput.value=e,"combobox"===this.searchInput.getAttribute("role")?this.searchInput.dispatchEvent(new Event("input")):this.form.submit())},300)),this.recognition.addEventListener("audiostart",()=>{this.isListening=!0,this.classList.add("search__speech-listening")}),this.recognition.addEventListener("audioend",()=>{this.isListening=!1,this.classList.remove("search__speech-listening")}),this.addEventListener("click",this.toggleListen),this.addEventListener("keydown",e=>{"Space"!==e.code&&"Enter"!==e.code||this.toggleListen(e)})}init(){this.classList.remove("hidden"),this.recognition=new window.webkitSpeechRecognition,this.recognition.continuous=!1,this.recognition.interimResults=!1,this.form=this.closest("form"),this.searchInput=this.form.querySelector(".js-search-input"),this.predictiveSearch&&this.predictiveSearch.classList.add("speech-search--enabled")}toggleListen(e){e.preventDefault(),this.isListening?this.recognition.stop():this.recognition.start()}}customElements.define("speech-search-button",e)}